---
title: Типы тестов
---

## Основные типы тестов

Допустим, пушка у вас есть, мониторинг настроен и работает. Нужно
провести тесты. В большинстве случаев нужно минимум два теста
(либо их комбинации), чтобы оценить как система ведёт себя под
нагрузкой. Тест на поиск точки разладки и тест с постоянной нагрузкой
("на разладку" и "постоянкой").

### Поиск точки разладки

Тест с постоянно растущей линейно нагрузкой с целью выяснить точку
(нагрузку в RPS), на которой сервис начинает работать со сбоями, либо
перестаёт отвечать критериям работы, либо ломается (и, если ломается,
то как именно это происходит, как быстро оживает и происходит ли это
вообще). Подаём линейно растущую нагрузку, следим за временами ответов
и ищем момент, когда система перестаёт отвечать заданным требованиям.
В этом тесте можно увидеть как и когда сервис деградирует. Типичная
схема нагрузки для такого теста line(1, n, 10m).

### Постоянная нагрузка

Тест на постоянной заданной нагрузке. Эмпирическим способом выяснено,
что оптимальное значение для постоянной нагрузки - 80% от точки
разладки. Перед этим тестом полезно делать небольшой прогрев линейной
нагрузкой, чтобы сервис успел создать дополнительные обработчики,
аллоцировать память и т.д. В реальности в большинстве случаев тысячи
RPS пользователей тоже не появляются одновременно в одну секунду, а
нарастают постепенно. В этом тесте стоит обращать особое внимание на
времена ответов (общее/всплески), на коды ответов (как часто сервис
отвечает ошибками). Типичная схема нагрузки для такого теста
line(1, n, 1m) const(n, 10m).

## Какие использовать?

Используем два перечисленных типа тестов почти всегда, добавляя
дополнительные комбинации в зависимости от бизнес-требований сервиса.

---
[Выбираем инструменты](tools.html)